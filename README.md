# Tic-Tac-Toe
Backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∏–≥—Ä—ã –≤ "–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏" —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ Java —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Spring Boot.

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

REST API –¥–ª—è –∏–≥—Ä—ã –≤ –∫—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ –ø—Ä–æ—Ç–∏–≤ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –ö–æ–º–ø—å—é—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º Minimax –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ö–æ–¥–∞. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∏–≥—Ä, –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ö–æ–¥–æ–≤ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ü§ñ –£–º–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä-—Å–æ–ø–µ—Ä–Ω–∏–∫ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Minimax
- üéÆ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä
- üîí –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —Ö–æ–¥–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã
- üìä –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
- üõ°Ô∏è –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- üèóÔ∏è –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ —Å–ª–æ–∏:
```
src/main/java/com/example/
‚îú‚îÄ‚îÄ TicTacToeApplication.java          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ domain/                            # –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ model/                         # –î–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrentGame.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameField.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Move.java
‚îÇ   ‚îú‚îÄ‚îÄ service/                       # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameService.java
‚îÇ   ‚îî‚îÄ‚îÄ exception/                     # –ò—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ GameNotFoundException.java
‚îÇ       ‚îú‚îÄ‚îÄ GameOverException.java
‚îÇ       ‚îî‚îÄ‚îÄ InvalidMoveException.java
‚îú‚îÄ‚îÄ datasource/                        # –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ model/                         # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DSCurrentGame.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DSGameField.java
‚îÇ   ‚îú‚îÄ‚îÄ repository/                    # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameRepository.java
‚îÇ   ‚îú‚îÄ‚îÄ service/                       # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameServiceImpl.java
‚îÇ   ‚îú‚îÄ‚îÄ storage/                       # –•—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GameStorage.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameStorageImpl.java
‚îÇ   ‚îî‚îÄ‚îÄ mapper/                        # –ú–∞–ø–ø–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îî‚îÄ‚îÄ MapperDomainDatasource.java
‚îú‚îÄ‚îÄ web/                               # –í–µ–±-—Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ controller/                    # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GameController.java
‚îÇ   ‚îú‚îÄ‚îÄ model/                         # DTO –¥–ª—è API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ErrorResponse.java
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WebCurrentGame.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ WebGameField.java
‚îÇ   ‚îú‚îÄ‚îÄ mapper/                        # –ú–∞–ø–ø–µ—Ä—ã –¥–ª—è API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MapperDomainWeb.java
‚îÇ   ‚îî‚îÄ‚îÄ advice/                        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ GlobalExceptionHandler.java
‚îî‚îÄ‚îÄ di/                                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è DI
‚îî‚îÄ‚îÄ AppConfig.java
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Java** 18+
- **Spring Boot** 4.0.1
- **Spring Web MVC**
- **Gradle** 9.2.1 (—Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏)
- **ConcurrentHashMap** (in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- JDK 18 –∏–ª–∏ –≤—ã—à–µ
- Gradle 9.2.1 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è wrapper)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ë–∞–∑–æ–≤—ã–π URL
```
http://localhost:8080
```

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã

–ó–∞–ø—Ä–æ—Å:

```
GET /game
```

–û—Ç–≤–µ—Ç:
```
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "field": {
    "field": [
      [0, 0, 0],
      [0, 0, 0],
      [0, 0, 0]
    ]
  }
}
```

–ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- 200 OK - –ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã

–ó–∞–ø—Ä–æ—Å:
```
GET /game/{gameId}
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- gameId(UUID) - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–≥—Ä—ã

–û—Ç–≤–µ—Ç:
```
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "field": {
    "field": [
      [1, 0, 0],
      [0, 2, 0],
      [0, 0, 0]
    ]
  }
}
```
–ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- 200 OK - –ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞
- 404 Not Found - –∏–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

### 3. –°–¥–µ–ª–∞—Ç—å —Ö–æ–¥

–ó–∞–ø—Ä–æ—Å:
```
POST /game/{gameId}
Content-Type: application/json
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- gameId(UUID) - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–≥—Ä—ã

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
```
{
  "field": [
    [1, 0, 0],
    [0, 0, 0],
    [0, 0, 0]
  ]
}
```

–û—Ç–≤–µ—Ç:
```
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "field": {
    "field": [
      [1, 0, 0],
      [0, 2, 0],
      [0, 0, 0]
    ]
  }
}
```
–ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è:
- 200 OK - –ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞
- 400 Bad Request - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ö–æ–¥
- 404 Not Found - –∏–≥—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- 409 Conflict - –∏–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üéÆ –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è

–ü–æ–ª–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –º–∞—Ç—Ä–∏—Ü–∞ 3x3:

- 0 - –ø—É—Å—Ç–∞—è –∫–ª–µ—Ç–∫–∞
- 1 - –∫—Ä–µ—Å—Ç–∏–∫ (–∏–≥—Ä–æ–∫)
- 2 - –Ω–æ–ª–∏–∫ (–∫–æ–º–ø—å—é—Ç–µ—Ä)

### –ü–æ—Ä—è–¥–æ–∫ —Ö–æ–¥–æ–≤
1. –ò–≥—Ä–æ–∫ (–∫—Ä–µ—Å—Ç–∏–∫–∏) —Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º
2. –ö–æ–º–ø—å—é—Ç–µ—Ä (–Ω–æ–ª–∏–∫–∏) –æ—Ç–≤–µ—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –•–æ–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º, –µ—Å–ª–∏:
- –ò–≥—Ä–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –ò–∑–º–µ–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∫–ª–µ—Ç–∫–∞
- –ö–ª–µ—Ç–∫–∞ –±—ã–ª–∞ –ø—É—Å—Ç–æ–π (0) –∏ —Å—Ç–∞–ª–∞ –∫—Ä–µ—Å—Ç–∏–∫–æ–º (1)

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏:
  - –¢—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–∞ –≤ —Ä—è–¥ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å, –≤–µ—Ä—Ç–∏–∫–∞–ª—å, –¥–∏–∞–≥–æ–Ω–∞–ª—å)
  - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å–µ—Ö –∫–ª–µ—Ç–æ–∫ –ø–æ–ª—è (–Ω–∏—á—å—è)

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°–±–æ—Ä–∫–∞ (build.gradle.kts)
```
plugins {
    id("java")
    id("org.springframework.boot") version "4.0.1"
    id("io.spring.dependency-management") version "1.1.7"
}

dependencies {
    implementation("org.springframework.boot:spring-boot-starter-webmvc")
}
```
### –ü–æ—Ä—Ç—ã
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 8080. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª application.properties:
```
server.port=9090
```

## üß™ –ê–ª–≥–æ—Ä–∏—Ç–º –ò–ò
–ö–æ–º–ø—å—é—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º Minimax —Å —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–µ–Ω–∫–æ–π:
- –ü–æ–±–µ–¥–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: +20 - –≥–ª—É–±–∏–Ω–∞
- –ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞: -20 + –≥–ª—É–±–∏–Ω–∞
- –ù–∏—á—å—è: –≥–ª—É–±–∏–Ω–∞ (—á–µ–º –±—ã—Å—Ç—Ä–µ–µ –Ω–∏—á—å—è, —Ç–µ–º –ª—É—á—à–µ)

–ê–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ö–æ–¥—ã –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:
- –ü–æ–±–µ–¥—É –ø—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–±–µ–¥—ã –∏–≥—Ä–æ–∫–∞
- –û–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:
```
{
  "error": "Invalid Move",
  "message": "Field must be 3x3",
  "timestamp": "2024-01-15T10:30:00"
}
```
### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏:
- Game Not Found (404) - –∏–≥—Ä–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- Invalid Move (400) - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ö–æ–¥
- Game Over (409) - –ø–æ–ø—ã—Ç–∫–∞ —Ö–æ–¥–∞ –≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é –∏–≥—Ä—É
- Internal Server Error (500) - –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ ConcurrentHashMap. –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ê–ª–≥–æ—Ä–∏—Ç–º Minimax —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–ª—è 3x3. –î–ª—è –±–æ–ª—å—à–∏—Ö –ø–æ–ª–µ–π –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.